<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="reset.css">
    <title>myMovieReviews</title>
    
  </head>

  <body>  
    <h1>my<span>Movie</span>Reviews</h1>
    <h4>devkev00</h4>

    <div class="sort-options">
      <a href="?sort=title" {% if current_sort == 'title' %}class="active"{% endif %}>제목순</a>
      <a href="?sort=rating" {% if current_sort == 'rating' %}class="active"{% endif %}>별점순</a>
      <a href="?sort=runningtime" {% if current_sort == 'runningtime' %}class="active"{% endif %}>상영시간순</a>
    </div>


    <div class="container">
    {% for review in reviews %}
    
    <div class="movie-card">
      <a href="/movie/detail/{{review.id}}">
        {% if review.poster %}
          <img src="{{ review.poster.url }}" alt="{{ review.title }} poster" class="movie-poster">
        {% else %}
          <div class="no-poster">No poster available</div>
        {% endif %}
        <h2>{{review.title}}</h2>
      </a>
      <p>
      🗓️ : {{review.release_year}}
      <br>
      🎬 : {{review.genre}}
      <br>
      ⭐️ : {{review.rating}}
      <br>
      ⏱️ : {{ review.get_runningtime_display }}
      </p>
    </div>

    {% empty %}
    <p>등록된 리뷰가 없습니다.</p>
    {% endfor %}
    </div>

    <a href="create">나도 리뷰 작성할래요</a>
  </body>
</html>


<style>
  h4 {
    margin-top: 0;
  }

  body {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }

  .container {
    margin: 16px;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: center;
    flex-wrap: wrap;
  }
  
  .movie-card {
    display: flex;
    flex-direction: column;
    justify-content: center; 
    text-align: center;
    margin: 16px;
  }
  
  .movie-card > p {
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: left;
  }

  a, span {
    text-decoration: none;
    font-weight: 700;
    color: rgb(219, 23, 23);
  }

  .movie-poster {
    width: 200px;
    height: 300px;
    object-fit: cover;
    margin-bottom: 10px;
  }
  .no-poster {
    width: 200px;
    height: 300px;
    background-color: #f0f0f0;
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 10px;
  }
  .movie-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-bottom: 20px;
  }
    
</style>